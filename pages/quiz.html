<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Quiz Panel</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
  <style>
    /* General Styles */
    body {
      margin: 0;
      padding: 0;
      background-color: #0D1117;
      color: white;
      font-family: 'Roboto', sans-serif;
    }

    .container {
      display: flex;
      height: 100vh;
      flex-direction: column;
    }

    .header {
      background-color: #0D1117;
      padding: 10px 20px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      border-bottom: 1px solid #28353D;
    }

    .header img {
      height: 40px;
    }

    .header .timer {
      font-size: 16px;
      color: #d4d4d4;
    }

    main {
      display: flex;
      flex: 1;
    }

    .quiz-container {
      flex: 3;
      padding: 20px;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
    }

    .question-image {
      width: 100%;
      max-width: 500px;
      height: 300px;
      background-color:transparent;
      display: flex;
      justify-content: center;
      align-items: center;
      font-size: 24px;
      color: black;
      margin-bottom: 30px;
      border-radius: 10px;
      overflow-y: auto;
    }

    .options {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 10px;
      width: 100%;
      max-width: 600px;
      margin-bottom: 20px;
    }

    .answer-option {
      padding: 20px 40px;
      font-size: 16px;
      background-color: #ECF2F8;
      border: none;
      border-radius: 12px;
      color: #000000;
      cursor: pointer;
      text-align: center;
      border: 1px solid #8A9CA7;
      box-shadow: 0 0 6px rgba(138, 156, 167, 0.6);
    }

    .answer-option:hover {
      background-color: #444;
    }

    .answer-option.selected {
      background-color: #10b981;
      color: white;
    }

    .navigation-buttons {
      display: flex;
      justify-content: space-between;
      margin-top: 20px;
      width: 100%;
      max-width: 600px;
    }

    .navigation-buttons button {
      padding: 15px 30px;
      font-size: 16px;
      background-color: #ECF2F8;
      border: none;
      border-radius: 5px;
      color: #000000;
      cursor: pointer;
      border: 1px solid #8A9CA7;
      box-shadow: 0 0 6px rgba(138, 156, 167, 0.6);
    }

    .navigation-buttons button:hover {
      background-color: #444;
      color: white;
    }

    .sidebar {
      flex: 1;
      background-color: #28353D;
      margin: 20px 5px;
      border-radius: 12px 0px 0px 12px;
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    .text {
      width: 100%;
      border-bottom: 2px solid #ECF2F8;
      text-align: center;
    }

    .sidebar h3 {
      color: #ffffff;
      font-size: 24px;
      margin-bottom: 20px;
    }

    .question-navigation {
      padding: 16px;
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 23px;
    }

    .question-number {
      width: 50px;
      height: 50px;
      background-color: #ECF2F8;
      color: #000000;
      display: flex;
      justify-content: center;
      align-items: center;
      border-radius: 50%;
      cursor: pointer;
    }

    .question-number.selected {
      background-color: #0D1117;
      color: #ffffff;
    }

    .question-number:hover {
      background-color: #555;
    }

    #submit {
      display: block;
      width: 50%;
      margin: 10px auto 15px;
      padding: 15px 30px;
      font-size: 20px;
      font-weight: bold;
      color: #000000;
      background-color: #ECF2F8;
      border: none;
      border-radius: 12px;
      cursor: pointer;
      transition: background-color 0.3s;
    }

    #submit:hover {
      background-color: #444;
      color: white;
    }

    #submit-modal {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.8);
      display: none;
      justify-content: center;
      align-items: center;
    }

    .modal-content {
      background: #28353D;
      padding: 20px;
      border-radius: 10px;
      text-align: center;
      color: white;
      width: 80%;
      max-width: 400px;
    }

    .modal-content button {
      margin: 20px;
      background-color: #ECF2F8;
      border: none;
      padding: 10px 20px;
      font-size: 16px;
      color: #000000;
      cursor: pointer;
      border-radius: 5px;
      transition: background-color 0.3s;
    }

    .modal-content button:hover {
      background-color: #444;
      color: white;
    }
  </style>
</head>
<body>
  <div class="container">
    <header class="header">
      <img src="../assest/img/logo/logo.png" alt="Logo">
      <div class="timer" id="timer">TIME: 60:00</div>
    </header>
    <main>
      <div class="quiz-container">
        <div class="question-image" id="question-image">Image</div>
        <div class="options" id="options-container"></div>
        <div class="navigation-buttons">
          <button id="previous">Previous</button>
          <button id="clear-answer">Clear Answer</button>
          <button id="next">Next</button>
        </div>
      </div>
      <aside class="sidebar">
        <div class="text">
          <h3>QUESTIONS</h3>
        </div>
        <div class="question-navigation" id="question-navigation"></div>
        <button id="submit">Submit</button>
      </aside>
    </main>
  </div>

  <!-- Confirmation Modal -->
  <div id="submit-modal">
    <div class="modal-content">
      <h3>Are you sure you want to submit?</h3>
      <p id="attempted-questions"></p>
      <p id="unanswered-questions"></p>
      <p id="total-score"></p>
      <p id="total-time"></p>
      <button id="final-submit">Yes, Submit</button>
      <button id="cancel-submit">Cancel</button>
    </div>
  </div>

  <script>
    // JavaScript code here
    // Sample question data
const questions = [
{
  image: "../assest/physics/kinematics/quiz 1/1.png",
  options: ["Option 1", "Option 2", "Option 3", "Option 4"],
  correct: 1, // Index of the correct option
},
{
  image: "../assest/physics/kinematics/quiz 1/2.png",
  options: ["Option A", "Option B", "Option C", "Option D"],
  correct: 1,
},
{
  image: "../assest/physics/kinematics/quiz 1/3.png",
  options: ["Option A", "Option B", "Option C", "Option D"],
  correct: 3,
},
{
  image: "../assest/physics/kinematics/quiz 1/4.png",
  options: ["Option A", "Option B", "Option C", "Option D"],
  correct: 1,
},
{
  image: "../assest/physics/kinematics/quiz 1/5.png",
  options: ["Option A", "Option B", "Option C", "Option D"],
  correct: 2,
},
{
  image: "../assest/physics/kinematics/quiz 1/6.png",
  options: ["Option A", "Option B", "Option C", "Option D"],
  correct: 2,
},
{
  image: "../assest/physics/kinematics/quiz 1/7.png",
  options: ["Option A", "Option B", "Option C", "Option D"],
  correct: 2,
},
{
  image: "../assest/physics/kinematics/quiz 1/8.png",
  options: ["Option A", "Option B", "Option C", "Option D"],
  correct: 1,
},
{
  image: "../assest/physics/kinematics/quiz 1/9.png",
  options: ["Option A", "Option B", "Option C", "Option D"],
  correct: 1,
},
{
  image: "../assest/physics/kinematics/quiz 1/10.png",
  options: ["Option A", "Option B", "Option C", "Option D"],
  correct: 3,
},
{
  image: "../assest/physics/kinematics/quiz 1/11.png",
  options: ["Option A", "Option B", "Option C", "Option D"],
  correct: 2,
},
{
  image: "../assest/physics/kinematics/quiz 1/12.png",
  options: ["Option A", "Option B", "Option C", "Option D"],
  correct: 1,
},
{
  image: "../assest/physics/kinematics/quiz 1/13.png",
  options: ["Option A", "Option B", "Option C", "Option D"],
  correct: 0,
},
{
  image: "../assest/physics/kinematics/quiz 1/14.png",
  options: ["Option A", "Option B", "Option C", "Option D"],
  correct: 3,
},
{
  image: "../assest/physics/kinematics/quiz 1/15.png",
  options: ["Option A", "Option B", "Option C", "Option D"],
  correct: 2,
},
{
  image: "../assest/physics/kinematics/quiz 1/16.png",
  options: ["Option A", "Option B", "Option C", "Option D"],
  correct: 1,
},
{
  image: "../assest/physics/kinematics/quiz 1/17.png",
  options: ["Option A", "Option B", "Option C", "Option D"],
  correct: 1,
},
{
  image: "../assest/physics/kinematics/quiz 1/18.png",
  options: ["Option A", "Option B", "Option C", "Option D"],
  correct: 1,
},
{
  image: "../assest/physics/kinematics/quiz 1/19.png",
  options: ["Option A", "Option B", "Option C", "Option D"],
  correct: 0,
},
{
  image: "../assest/physics/kinematics/quiz 1/20.png",
  options: ["Option A", "Option B", "Option C", "Option D"],
  correct: 1,
},
{
  image: "../assest/physics/kinematics/quiz 1/21.png",
  options: ["Option A", "Option B", "Option C", "Option D"],
  correct: 2,
},
{
  image: "../assest/physics/kinematics/quiz 1/22.png",
  options: ["Option A", "Option B", "Option C", "Option D"],
  correct: 2,
},
{
  image: "../assest/physics/kinematics/quiz 1/23.png",
  options: ["Option A", "Option B", "Option C", "Option D"],
  correct: 2,
},
{
  image: "../assest/physics/kinematics/quiz 1/24.png",
  options: ["Option A", "Option B", "Option C", "Option D"],
  correct: 2,
},
{
  image: "../assest/physics/kinematics/quiz 1/25.png",
  options: ["Option A", "Option B", "Option C", "Option D"],
  correct: 2,
},
// Add more questions as needed
];

let currentQuestion = 0;
const selectedAnswers = new Array(questions.length).fill(null);
let timer = 60 * 60; // Timer in seconds (1 hour)

const questionImage = document.getElementById("question-image");
const optionsContainer = document.getElementById("options-container");
const questionNavigation = document.getElementById("question-navigation");
const timerElement = document.getElementById("timer");
const submitModal = document.getElementById("submit-modal");
const attemptedQuestionsElement = document.getElementById("attempted-questions");
const unansweredQuestionsElement = document.getElementById("unanswered-questions");
const totalTimeElement = document.getElementById("total-time");

// Initialize quiz panel
function initializeQuiz() {
displayQuestion();
createNavigationButtons();
updateTimer();
setInterval(updateTimer, 1000);
}

// Display current question
function displayQuestion() {
const question = questions[currentQuestion];
questionImage.innerHTML = `<img src="${question.image}" alt="Question Image" style="width: 100%; border-radius: 10px;">`;
optionsContainer.innerHTML = "";

question.options.forEach((option, index) => {
  const optionButton = document.createElement("button");
  optionButton.textContent = option;
  optionButton.classList.add("answer-option");
  if (selectedAnswers[currentQuestion] === index) {
    optionButton.classList.add("selected");
  }
  optionButton.addEventListener("click", () => selectAnswer(index));
  optionsContainer.appendChild(optionButton);
});

updateNavigationButtons();
}

// Select an answer
function selectAnswer(index) {
selectedAnswers[currentQuestion] = index;
displayQuestion();
}

// Clear selected answer
document.getElementById("clear-answer").addEventListener("click", () => {
selectedAnswers[currentQuestion] = null;
displayQuestion();
});

// Navigate to next question
document.getElementById("next").addEventListener("click", () => {
if (currentQuestion < questions.length - 1) {
  currentQuestion++;
  displayQuestion();
}
});

// Navigate to previous question
document.getElementById("previous").addEventListener("click", () => {
if (currentQuestion > 0) {
  currentQuestion--;
  displayQuestion();
}
});

// Create navigation buttons
function createNavigationButtons() {
questionNavigation.innerHTML = "";
questions.forEach((_, index) => {
  const navButton = document.createElement("div");
  navButton.textContent = index + 1;
  navButton.classList.add("question-number");
  navButton.addEventListener("click", () => {
    currentQuestion = index;
    displayQuestion();
  });
  questionNavigation.appendChild(navButton);
});
}

// Update navigation button styles
function updateNavigationButtons() {
document.querySelectorAll(".question-number").forEach((button, index) => {
  button.classList.toggle("selected", index === currentQuestion);
});
}

// Timer functionality
function updateTimer() {
const minutes = Math.floor(timer / 60);
const seconds = timer % 60;
timerElement.textContent = `TIME: ${minutes}:${seconds.toString().padStart(2, "0")}`;
if (timer > 0) {
  timer--;
} else {
  showSubmitModal();
}
}

// Show the submission modal
document.getElementById("submit").addEventListener("click", showSubmitModal);

function showSubmitModal() {
const attempted = selectedAnswers.filter((ans) => ans !== null).length;
const unanswered = questions.length - attempted;

attemptedQuestionsElement.textContent = `Attempted Questions: ${attempted}`;
unansweredQuestionsElement.textContent = `Unanswered Questions: ${unanswered}`;
totalTimeElement.textContent = `Total Time Taken: ${Math.floor((60 * 60 - timer) / 60)} minutes`;

submitModal.style.display = "flex";
}

// Hide the submission modal
document.getElementById("cancel-submit").addEventListener("click", () => {
submitModal.style.display = "none";
});

// Final submission
document.getElementById("final-submit").addEventListener("click", () => {
  const attempted = selectedAnswers.filter((ans) => ans !== null).length;
  const unanswered = questions.length - attempted;
  const correctAnswers = selectedAnswers.reduce((count, answer, index) => {
    return answer === questions[index].correct ? count + 1 : count;
  }, 0);

  // Create result data
  const resultData = {
    attempted: attempted,
    unanswered: unanswered,
    correct: correctAnswers,
    totalQuestions: questions.length,
    timeTaken: 60 * 60 - timer, // Total time in seconds
  };

  // Pass the result data to the result page
  localStorage.setItem("quizResults", JSON.stringify(resultData));

  // Redirect to result.html
  window.location.href = "result.html";
});


// Initialize the quiz
initializeQuiz();

  </script>
</body>
</html>
