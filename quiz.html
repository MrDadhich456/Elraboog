<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Chapter-Based Quiz with Images</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #0D1117;
      color: white;
      text-align: center;
    }
    h2 {
      margin-top: 50px;
    }
    .chapter-button {
      background-color: #555;
      color: white;
      padding: 10px 20px;
      margin: 10px;
      border: none;
      cursor: pointer;
      font-size: 16px;
      width: 200px;
    }
    .chapter-button:hover {
      background-color: #777;
    }
    .quiz-container {
      display: none;
      justify-items: center;
    }
    .answer-option {
      background-color: #444;
      color: white;
      padding: 10px 20px;
      margin: 10px;
      border: none;
      cursor: pointer;
      font-size: 16px;
      width: 200px;
    }
    .answer-option:hover {
      background-color: #666;
    }
    img {
      width: 100%;
      height: auto;
    }
    .image-container {
     
      width: 600px;
      height: 200px;
      overflow-y: scroll;
      border: 1px solid #ccc;
      margin-bottom: 20px;
    }
    .image-container img {
      width: 100%;
      height: auto;
    }
  </style>
</head>
<body>

  <!-- Chapter Selection Page -->
  <div id="chapter-selection">
    <h2>Select a Chapter</h2>
    <div id="chapters-list"></div>
  </div>

  <!-- Quiz Section -->
  <div id="quiz-section" class="quiz-container">
    <div id="question-container"></div>
    <div>
      <button id="previous">Previous</button>
      <button id="next">Next</button>
    </div>
    <button id="submit">Submit Quiz</button>
  </div>

  <!-- Result Section -->
  <div id="result-section" class="quiz-container">
    <h3>Your Results</h3>
    <p id="score"></p>
    <button id="retake">Retake Quiz</button>
  </div>

  <script>
    // Data Structure: List of quizzes (chapters)
    const quizzes = [
      {
        chapter: "Chapter 1: Animal Quiz",
        questions: [
          {
            questionImage: "Screenshot_2024-12-01-14-02-40-22_e2d5b3f32b79de1d45acd1fad96fbb0f.jpg", // Example image URL
            options: ["Lion", "Tiger", "Elephant", "Bear"],
            correctAnswer: 0
          },
          {
            questionImage: "WhatsApp Image 2024-12-01 at 14.34.59_129ac35f.jpg", // Example image URL
            options: ["Dog", "Cat", "Horse", "Rabbit"],
            correctAnswer: 1
          }
        ]
      },
      {
        chapter: "Chapter 2: Fruit Quiz",
        questions: [
          {
            questionImage: "https://example.com/fruit1.jpg", // Example image URL
            options: ["Apple", "Banana", "Grapes", "Orange"],
            correctAnswer: 0
          },
          {
            questionImage: "https://example.com/fruit2.jpg", // Example image URL
            options: ["Mango", "Pineapple", "Peach", "Cherry"],
            correctAnswer: 2
          }
        ]
      }
      // Add more chapters here...
    ];

    // HTML elements
    const chapterSelection = document.getElementById('chapter-selection');
    const chaptersList = document.getElementById('chapters-list');
    const quizSection = document.getElementById('quiz-section');
    const resultSection = document.getElementById('result-section');
    const questionContainer = document.getElementById('question-container');
    const submitButton = document.getElementById('submit');
    const scoreElement = document.getElementById('score');
    const retakeButton = document.getElementById('retake');

    let currentChapterIndex = -1;
    let currentQuestionIndex = 0;
    let selectedAnswers = [];

    // Function to load chapters (chapter selection page)
    function loadChapters() {
      quizzes.forEach((quiz, index) => {
        const chapterButton = document.createElement('button');
        chapterButton.textContent = quiz.chapter;
        chapterButton.classList.add('chapter-button');
        chapterButton.onclick = () => loadQuiz(index); // When chapter is clicked, load that quiz
        chaptersList.appendChild(chapterButton);
      });
    }

    // Function to load the quiz for the selected chapter
    function loadQuiz(chapterIndex) {
      currentChapterIndex = chapterIndex;
      currentQuestionIndex = 0;
      selectedAnswers = [];

      chapterSelection.style.display = 'none';  // Hide chapter selection
      quizSection.style.display = 'block';      // Show quiz section

      showQuestion(currentQuestionIndex);
    }

    // Function to show a question with an image
    function showQuestion(questionIndex) {
      const chapter = quizzes[currentChapterIndex];
      const question = chapter.questions[questionIndex];

      questionContainer.innerHTML = `
        <h3>Question ${questionIndex + 1}</h3>
        <div class="image-container">
          <img src="${question.questionImage}" alt="Question Image" />
        </div>
        ${question.options.map((option, index) => `
          <button class="answer-option" data-index="${index}">${String.fromCharCode(65 + index)}. ${option}</button>
        `).join('')}
      `;

      // Add event listeners to the options
      document.querySelectorAll('.answer-option').forEach(option => {
        option.addEventListener('click', () => {
          selectedAnswers[questionIndex] = parseInt(option.dataset.index);
        });
      });
    }

    // Function to navigate to the next question
    document.getElementById('next').addEventListener('click', () => {
      if (currentQuestionIndex < quizzes[currentChapterIndex].questions.length - 1) {
        currentQuestionIndex++;
        showQuestion(currentQuestionIndex);
      }
    });

    // Function to navigate to the previous question
    document.getElementById('previous').addEventListener('click', () => {
      if (currentQuestionIndex > 0) {
        currentQuestionIndex--;
        showQuestion(currentQuestionIndex);
      }
    });

    // Function to submit the quiz and show the results
    submitButton.addEventListener('click', () => {
      const chapter = quizzes[currentChapterIndex];
      let score = 0;

      chapter.questions.forEach((question, index) => {
        if (selectedAnswers[index] === question.correctAnswer) {
          score++;
        }
      });

      scoreElement.textContent = `You scored ${score} out of ${chapter.questions.length}`;
      quizSection.style.display = 'none';    // Hide quiz section
      resultSection.style.display = 'block'; // Show result section
    });

    // Function to retake the quiz
    retakeButton.addEventListener('click', () => {
      selectedAnswers = [];
      resultSection.style.display = 'none';    // Hide result section
      chapterSelection.style.display = 'block'; // Show chapter selection
    });

    // Load chapters when the page loads
    window.onload = loadChapters;
  </script>
</body>
</html>
